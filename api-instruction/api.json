{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/api/v1/admin/token":{"get":{"summary":"Get admin token","operationId":"get_admin_token_api_v1_admin_token_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Rotate admin token","operationId":"rotate_admin_token_api_v1_admin_token_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/panels":{"get":{"summary":"List panels","operationId":"list_panels_api_v1_admin_panels_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PanelOut"},"title":"Response List Panels Api V1 Admin Panels Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Create a panel","operationId":"create_panel_api_v1_admin_panels_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanelCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanelOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/panels/{panel_id}":{"get":{"summary":"Get a panel","operationId":"get_panel_api_v1_admin_panels__panel_id__get","parameters":[{"name":"panel_id","in":"path","required":true,"schema":{"type":"integer","title":"Panel Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanelOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update a panel","operationId":"update_panel_api_v1_admin_panels__panel_id__put","parameters":[{"name":"panel_id","in":"path","required":true,"schema":{"type":"integer","title":"Panel Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanelUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanelOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete a panel","operationId":"delete_panel_api_v1_admin_panels__panel_id__delete","parameters":[{"name":"panel_id","in":"path","required":true,"schema":{"type":"integer","title":"Panel Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/agents":{"get":{"summary":"List agents","operationId":"list_agents_api_v1_admin_agents_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AgentOut"},"title":"Response List Agents Api V1 Admin Agents Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Create an agent","operationId":"create_agent_api_v1_admin_agents_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/agents/{agent_id}":{"get":{"summary":"Get an agent","operationId":"get_agent_api_v1_admin_agents__agent_id__get","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update an agent","operationId":"update_agent_api_v1_admin_agents__agent_id__put","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete an agent","operationId":"delete_agent_api_v1_admin_agents__agent_id__delete","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/services":{"get":{"summary":"List services","operationId":"list_services_api_v1_admin_services_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServiceOut"},"title":"Response List Services Api V1 Admin Services Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Create a service","operationId":"create_service_api_v1_admin_services_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/services/{service_id}":{"get":{"summary":"Get a service","operationId":"get_service_api_v1_admin_services__service_id__get","parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update a service","operationId":"update_service_api_v1_admin_services__service_id__put","parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete a service","operationId":"delete_service_api_v1_admin_services__service_id__delete","parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/settings":{"get":{"summary":"List settings","operationId":"list_settings_api_v1_admin_settings_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SettingOut"},"title":"Response List Settings Api V1 Admin Settings Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/settings/{key}":{"get":{"summary":"Get a setting","operationId":"get_setting_api_api_v1_admin_settings__key__get","parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Create or update a setting","operationId":"set_setting_api_v1_admin_settings__key__put","parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingValue"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete a setting","operationId":"delete_setting_api_v1_admin_settings__key__delete","parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/create":{"post":{"summary":"Create User","operationId":"create_user_api_v1_users_create_post","parameters":[{"name":"owner_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Target agent ID (admin only)","title":"Owner Id"},"description":"Target agent ID (admin only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users":{"post":{"summary":"List Users","operationId":"list_users_api_v1_users_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserListRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{username}":{"patch":{"summary":"Edit User","operationId":"edit_user_api_v1_users__username__patch","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Toggle User","operationId":"toggle_user_api_v1_users__username__delete","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"disable","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Disable"}},{"name":"owner_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Owner Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{username}/usage":{"post":{"summary":"Get Usage","operationId":"get_usage_api_v1_users__username__usage_post","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sub/{username}/links":{"post":{"tags":["Subscription"],"summary":"Get Links","description":"Return active subscription links for a user.\n\nChecks agent and user quotas/expiry before returning links. Returns an\nempty list if the limits are exceeded.","operationId":"get_links_api_v1_sub__username__links_post","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LinksRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LinksOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/health":{"get":{"summary":"Health Check","description":"Simple health check endpoint.","operationId":"health_check_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/agents/{agent_id}/token":{"get":{"summary":"Get Agent Token Endpoint","operationId":"get_agent_token_endpoint_api_v1_agents__agent_id__token_get","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Rotate Agent Token Endpoint","operationId":"rotate_agent_token_endpoint_api_v1_agents__agent_id__token_post","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agents/me/token":{"get":{"summary":"Get My Token","operationId":"get_my_token_api_v1_agents_me_token_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Rotate My Token","operationId":"rotate_my_token_api_v1_agents_me_token_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AgentCreate":{"properties":{"telegram_user_id":{"type":"integer","title":"Telegram User Id","description":"Agent Telegram user ID"},"name":{"type":"string","title":"Name","description":"Display name for the agent"},"plan_limit_bytes":{"type":"integer","title":"Plan Limit Bytes","description":"Total byte limit for the agent","default":0},"expire_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expire At","description":"Expiry timestamp"},"active":{"type":"boolean","title":"Active","description":"Whether the agent is active","default":true},"user_limit":{"type":"integer","title":"User Limit","description":"Maximum number of users allowed","default":0},"max_user_bytes":{"type":"integer","title":"Max User Bytes","description":"Per-user byte limit","default":0}},"type":"object","required":["telegram_user_id","name"],"title":"AgentCreate","example":{"active":true,"expire_at":"2025-01-01T00:00:00","max_user_bytes":100000000,"name":"Agent Smith","plan_limit_bytes":1000000000,"telegram_user_id":123456,"user_limit":100}},"AgentOut":{"properties":{"telegram_user_id":{"type":"integer","title":"Telegram User Id","description":"Agent Telegram user ID"},"name":{"type":"string","title":"Name","description":"Display name for the agent"},"plan_limit_bytes":{"type":"integer","title":"Plan Limit Bytes","description":"Total byte limit for the agent","default":0},"expire_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expire At","description":"Expiry timestamp"},"active":{"type":"boolean","title":"Active","description":"Whether the agent is active","default":true},"user_limit":{"type":"integer","title":"User Limit","description":"Maximum number of users allowed","default":0},"max_user_bytes":{"type":"integer","title":"Max User Bytes","description":"Per-user byte limit","default":0},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["telegram_user_id","name","id","created_at"],"title":"AgentOut"},"AgentUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"plan_limit_bytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Plan Limit Bytes"},"expire_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expire At"},"active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active"},"user_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Limit"},"max_user_bytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max User Bytes"}},"type":"object","title":"AgentUpdate","example":{"active":false,"name":"New Name"}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LinksOut":{"properties":{"links":{"items":{"type":"string"},"type":"array","title":"Links","description":"Subscription config links"}},"type":"object","required":["links"],"title":"LinksOut","description":"List of subscription links.","example":{"links":["vless://example@host:443?encryption=none#Example","vmess://YmFzZTY0ZW5jb2RlZA=="]}},"LinksRequest":{"properties":{"owner_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Owner Id","description":"Target agent ID (admin only)"}},"type":"object","title":"LinksRequest"},"PanelCreate":{"properties":{"panel_url":{"type":"string","title":"Panel Url","description":"Base URL of the panel"},"name":{"type":"string","title":"Name","description":"Display name for the panel"},"panel_type":{"type":"string","title":"Panel Type","description":"Panel type","default":"marzneshin"},"admin_username":{"type":"string","title":"Admin Username","description":"Administrator username"},"access_token":{"type":"string","title":"Access Token","description":"Access token for API calls"},"template_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template Username","description":"Template user on the panel"},"sub_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sub Url","description":"Subscription URL for name filtering"}},"type":"object","required":["panel_url","name","admin_username","access_token"],"title":"PanelCreate","example":{"access_token":"token","admin_username":"admin","name":"Main Panel","panel_type":"marzneshin","panel_url":"https://panel.example.com","sub_url":"https://panel.example.com/sub","template_username":"template"}},"PanelOut":{"properties":{"panel_url":{"type":"string","title":"Panel Url","description":"Base URL of the panel"},"name":{"type":"string","title":"Name","description":"Display name for the panel"},"panel_type":{"type":"string","title":"Panel Type","description":"Panel type","default":"marzneshin"},"admin_username":{"type":"string","title":"Admin Username","description":"Administrator username"},"access_token":{"type":"string","title":"Access Token","description":"Access token for API calls"},"template_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template Username","description":"Template user on the panel"},"sub_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sub Url","description":"Subscription URL for name filtering"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["panel_url","name","admin_username","access_token","id","created_at"],"title":"PanelOut"},"PanelUpdate":{"properties":{"panel_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Panel Url"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"panel_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Panel Type"},"admin_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Username"},"access_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access Token"},"template_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template Username"},"sub_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sub Url"}},"type":"object","title":"PanelUpdate","example":{"name":"Updated Panel"}},"ServiceCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Service name"}},"type":"object","required":["name"],"title":"ServiceCreate","example":{"name":"Premium"}},"ServiceOut":{"properties":{"name":{"type":"string","title":"Name","description":"Service name"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["name","id","created_at"],"title":"ServiceOut"},"ServiceUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","title":"ServiceUpdate","example":{"name":"Updated"}},"SettingOut":{"properties":{"key":{"type":"string","title":"Key"},"value":{"type":"string","title":"Value"}},"type":"object","required":["key","value"],"title":"SettingOut"},"SettingValue":{"properties":{"value":{"type":"string","title":"Value","description":"Setting value"}},"type":"object","required":["value"],"title":"SettingValue","example":{"value":"hello"}},"UsageOut":{"properties":{"username":{"type":"string","title":"Username"},"used_bytes":{"type":"integer","title":"Used Bytes"},"plan_limit_bytes":{"type":"integer","title":"Plan Limit Bytes"},"expire_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expire At"}},"type":"object","required":["username","used_bytes","plan_limit_bytes","expire_at"],"title":"UsageOut"},"UsageRequest":{"properties":{"owner_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Owner Id","description":"Target agent ID (admin only)"}},"type":"object","title":"UsageRequest"},"UserCreate":{"properties":{"username":{"type":"string","title":"Username"},"limit_bytes":{"type":"integer","title":"Limit Bytes","description":"Byte limit for the user","default":0},"duration_days":{"type":"integer","title":"Duration Days","description":"Validity period in days","default":0},"service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Service Id","description":"Assigned service ID"},"owner_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Owner Id","description":"Target agent ID (admin only)"}},"type":"object","required":["username"],"title":"UserCreate"},"UserListRequest":{"properties":{"owner_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Owner Id","description":"Target agent ID (admin only)"},"offset":{"type":"integer","title":"Offset","description":"Pagination offset","default":0},"limit":{"type":"integer","title":"Limit","description":"Maximum number of users to return","default":25},"search":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search","description":"Search term"},"service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Service Id","description":"Filter by service ID"}},"type":"object","title":"UserListRequest"},"UserListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"users":{"items":{"$ref":"#/components/schemas/UserOut"},"type":"array","title":"Users"}},"type":"object","required":["total","users"],"title":"UserListResponse"},"UserOut":{"properties":{"username":{"type":"string","title":"Username"},"plan_limit_bytes":{"type":"integer","title":"Plan Limit Bytes"},"used_bytes":{"type":"integer","title":"Used Bytes"},"expire_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expire At"},"service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Service Id"},"disabled":{"type":"boolean","title":"Disabled","description":"Whether the user is disabled"}},"type":"object","required":["username","plan_limit_bytes","used_bytes","expire_at","disabled"],"title":"UserOut"},"UserUpdate":{"properties":{"limit_bytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit Bytes","description":"New byte limit"},"reset_used":{"type":"boolean","title":"Reset Used","description":"Reset used traffic","default":false},"renew_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Renew Days","description":"Days to add to expiry"},"service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Service Id","description":"Change service assignment"},"owner_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Owner Id","description":"Target agent ID (admin only)"}},"type":"object","title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
